{
  "description": "Schema for segment metadata JSON files",
  "examples": [
    {
      "description": "Example metadata for a video segment",
      "data": {
        "segment_id": "1_split_7_start_000652",
        "original_video": {
          "sport": "3x3_Basketball",
          "event": "Men"
        },
        "segment_info": {
          "start_frame_in_original": 6520,
          "total_frames": 70,
          "fps": 10.0,
          "duration_sec": 7.0,
          "resolution": [1920, 1080]
        },
        "tasks_to_annotate": [
          "UCE",
          "Continuous_Actions_Caption"
        ],
        "additional_info": {
          "description": "Video segment from frame 6520 with 70 frames"
        }
      }
    },
    {
      "description": "Example metadata for a single frame",
      "data": {
        "segment_id": 5,
        "original_video": {
          "sport": "Archery",
          "event": "Men's_Individual"
        },
        "segment_info": {
          "start_frame_in_original": 7462,
          "total_frames": 1,
          "fps": 10.0,
          "duration_sec": 0.1,
          "resolution": [1920, 1080]
        },
        "tasks_to_annotate": [
          "ScoreboardSingle"
        ],
        "additional_info": {
          "description": "Extracted single frame at time 746.200s."
        }
      }
    }
  ],
  "schema": {
    "segment_id": {
      "type": "string or integer",
      "description": "Unique identifier. String format like '1_split_7_start_000652' for video segments, or integer for single frames",
      "examples": ["1_split_7_start_000652", "1_frame_3401", 5]
    },
    "original_video": {
      "type": "object",
      "required": true,
      "properties": {
        "sport": {
          "type": "string",
          "description": "Sport name (e.g., 'Archery', '3x3_Basketball')"
        },
        "event": {
          "type": "string",
          "description": "Event name (e.g., 'Men's_Individual', 'Men', 'Women's_Team')"
        }
      },
      "note": "video_id is extracted from segment_id, not stored separately"
    },
    "segment_info": {
      "type": "object",
      "required": true,
      "properties": {
        "start_frame_in_original": {
          "type": "integer",
          "description": "Starting frame number in the original video",
          "minimum": 0
        },
        "total_frames": {
          "type": "integer",
          "description": "Total number of frames. Use 1 for single frames, >1 for video segments",
          "minimum": 1
        },
        "fps": {
          "type": "number",
          "description": "Frames per second",
          "minimum": 0
        },
        "duration_sec": {
          "type": "number",
          "description": "Duration in seconds (should equal total_frames / fps)",
          "minimum": 0
        },
        "resolution": {
          "type": "array",
          "description": "Video resolution [width, height]",
          "items": {"type": "integer"},
          "minItems": 2,
          "maxItems": 2
        }
      },
      "note": "Type distinction: total_frames == 1 means single frame, total_frames > 1 means video segment"
    },
    "tasks_to_annotate": {
      "type": "array",
      "items": {"type": "string"},
      "description": "List of annotation task names to perform on this segment"
    },
    "additional_info": {
      "type": "object",
      "description": "Additional metadata about the segment"
    }
  },
  "file_paths": {
    "original_video": "Dataset/{sport}/{event}/{video_id}.mp4",
    "original_video_json": "Dataset/{sport}/{event}/{video_id}.json",
    "event_metainfo": "Dataset/{sport}/{event}/metainfo.json",
    "segment_video": "Dataset/{sport}/{event}/segment_dir/{segment_id}.mp4",
    "segment_json": "Dataset/{sport}/{event}/segment_dir/{segment_id}.json",
    "singleframe_image": "Dataset/{sport}/{event}/singleframes_dir/{segment_id}.jpg",
    "singleframe_json": "Dataset/{sport}/{event}/singleframes_dir/{segment_id}.json"
  },
  "notes": {
    "video_id_extraction": "The video_id is automatically extracted from segment_id. For example, '1_split_7_start_000652' has video_id=1, '3_split_2_start_001234' has video_id=3",
    "type_distinction": "Single frames are identified by total_frames == 1, video segments by total_frames > 1. No explicit 'type' field needed.",
    "segment_id_formats": {
      "video_segment": "{video_id}_split_{split_num}_start_{start_frame:06d} (e.g., 1_split_7_start_000652)",
      "single_frame_string": "{video_id}_frame_{frame_num} (e.g., 1_frame_3401)",
      "single_frame_int": "Integer ID (e.g., 5)"
    }
  }
}
